/*
*finduser JavaScript File	2010/05/20 12:43:03 
*
* Copyright 2009 Sun Microsystems, Inc. and RADK team All rights reserved.
* SUN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
**/

/*
* Autogenerated code
* The following code was generated by RADKProject.
* An Open Source GlassFish project
* This is a Java Script file used to communicate with the server via HTTP Request and Response method.
* This file allows user to find a record.The response from the server is formated to display on the web pages.
**/

function getXMLHttpRequestObject()

{

    // initially set the object to false

    var XMLHttpRequestObject = false;

    if (window.XMLHttpRequest)

    {

        // check for Safari, Mozilla, Opera�

        XMLHttpRequestObject = new XMLHttpRequest();

    }

    else if (window.ActiveXObject)

    {

        // check for Internet Explorer

        XMLHttpRequestObject = new ActiveXObject("Microsoft.XMLHTTP");

    }

     if (!XMLHttpRequestObject)

    {

        alert("Your browser does not support Ajax.");

        // return false in case of failure

        return false;

    }

    // return the object in case of success

    return XMLHttpRequestObject;

}

// get the XMLHttpRequestObject and store it in a variable

var ajaxObj = getXMLHttpRequestObject();

// function called when Find button is pressed

function findcliente()

{

    // continue if the ajaxObj object exists

    if(ajaxObj)

    {

        // continue if the object is idle

        if (ajaxObj.readyState == 4 || ajaxObj.readyState == 0)

        {

            // refer to the input text field

            var inputObject = document.getElementById('inputbox');

            // build the �GET� request URL

            var URL = "http://192.168.0.12:8080/Busqueda/resources/cliente/cliente/" + inputObject.value + "/json/";

            // open connection and send �GET� request to server

            ajaxObj.open("GET", URL, true);

            // set the function to be called on a change in ajaxObj state

            ajaxObj.onreadystatechange = handleFindResponse;

            // set additional parameters (to be sent to server) to null

            ajaxObj.send(null);

        }

    }

}


// function called when there is a change ajaxObj state

function handleFindResponse()

{

    // check if the request is complete

    if (ajaxObj.readyState == 4)

    {

        // continue if the response is healthy

        if (ajaxObj.status == 200)

        {

            // store the server�s text response

            var textResponse = ajaxObj.responseText;
            myObject = JSON.parse(textResponse);
            var x = myObject.cliente.IDCLIENTE;
            if(x!=null)
            {

            // clear the 'display' div before displaying a new data

            document.getElementById('display').innerHTML = "";

            // get control of the 'display' div

            var root=document.getElementById('display');
            var tab=document.createElement('table');
            tab.setAttribute("cellpadding", 0);
            tab.setAttribute("cellspacing", 0);
            tab.setAttribute("width", "40%");
            tab.setAttribute("height", "40%");
            tab.setAttribute("border", 2);
            tab.className="mytable";
            var tbo=document.createElement('tbody');
            var row, cell, myObject, x;
                row=document.createElement('tr');
                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="ID CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="NOMBRE CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="APELLIDO CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="CIUDAD CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="DIRECCION CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="TELEFONO CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="EMAIL CLIENTE";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="LOGIN";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    x ="PASSWORD";
                    cell.innerHTML = x.bold();
                    row.appendChild(cell);

                    tbo.appendChild(row);
                    row=document.createElement('tr');
                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.IDCLIENTE;
                    cell.innerHTML = x;
                    row.appendChild(cell);
                   
                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.nombre;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.apellido;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.ciudad;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.direccion;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.telefono;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.email;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.login;
                    cell.innerHTML = x;
                    row.appendChild(cell);

                    cell=document.createElement('td');
                    cell.setAttribute("style", "padding-left:5px;");
                    myObject = JSON.parse(textResponse);
                    x = myObject.cliente.password;
                    cell.innerHTML = x;
                    row.appendChild(cell);

            tbo.appendChild(row);
            tab.appendChild(tbo);
            root.appendChild(tab);
            }
            else{
            window.alert("Record not found.Please enter a valid Primary Key.");
            }
        }

    }

}

